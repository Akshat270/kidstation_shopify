{% schema %}
{
  "name": "Custom Footer",
  "settings": [
    {
      "type": "image_picker",
      "id": "footer_logo",
      "label": "Footer Logo"
    },
    {
      "type": "textarea",
      "id": "footer_description",
      "label": "Footer Description",
      "default": "At Kids Station, we know that your baby's comfort and safety come first. That's why our collection of baby products is carefully chosen to support your little one's everyday needs — from feeding essentials and soft clothing to toys and travel gear."
    },
    {
      "type": "color",
      "id": "bg_color",
      "label": "Background Color",
      "default": "#245f91"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text Color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "link_hover_color",
      "label": "Link Hover Color",
      "default": "#f5f5f5"
    },
    {
      "type": "text",
      "id": "contact_title",
      "label": "Contact Section Title",
      "default": "Contact Information"
    },
    {
      "type": "text",
      "id": "contact_address",
      "label": "Address",
      "default": "3753 Howard Hughes Parkway, Suite 200 Las Vegas, Nevada 89101"
    },
    {
      "type": "text",
      "id": "contact_phone",
      "label": "Phone",
      "default": "+1 (337) 841-4426"
    },
    {
      "type": "text",
      "id": "contact_email",
      "label": "Email",
      "default": "info@kidsstation.com"
    },
    {
      "type": "text",
      "id": "footer_bottom_text",
      "label": "Bottom Copyright Text",
      "default": "Kids Station Powered By Shopify"
    }
  ],
  "blocks": [
    {
      "type": "payment_icon",
      "name": "Payment Icon",
      "settings": [
        {
          "type": "image_picker",
          "id": "payment_icon",
          "label": "Upload Payment Icon"
        }
      ]
    },
    {
      "type": "quick_links",
      "name": "Menu Column",
      "settings": [
        {
          "type": "text",
          "id": "menu_title",
          "label": "Menu Title",
          "default": "Links"
        },
        {
          "type": "link_list",
          "id": "menu",
          "label": "Select Menu"
        }
      ]
    },
    {
      "type": "social_icon",
      "name": "Social Icon",
      "settings": [
        {
          "type": "url",
          "id": "social_url",
          "label": "Social URL"
        },
        {
          "type": "image_picker",
          "id": "social_icon",
          "label": "Upload Icon"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Custom Footer",
      "category": "Footer"
    }
  ]
}
{% endschema %}

<footer class="site-footer" style="background-color: {{ section.settings.bg_color }}; color: {{ section.settings.text_color }};">
  <div class="footer-container">
    
    <!-- Column 1: Logo & Description -->
    <div class="footer-col">
      {% if section.settings.footer_logo %}
        <img class="footer-logo" src="{{ section.settings.footer_logo | img_url: '200x' }}" alt="Footer Logo">
      {% endif %}
      <p class="footer-description">{{ section.settings.footer_description }}</p>
      
      <div class="footer-socials">
        {% for block in section.blocks %}
          {% if block.type == 'social_icon' %}
            {% if block.settings.social_url != blank and block.settings.social_icon != blank %}
              <a href="{{ block.settings.social_url }}" target="_blank">
                <img src="{{ block.settings.social_icon | img_url: '30x30' }}" alt="social icon">
              </a>
            {% endif %}
          {% endif %}
        {% endfor %}
      </div>
    </div>

    <!-- Dynamic Menu Columns -->
    {% for block in section.blocks %}
      {% if block.type == "quick_links" %}
        <div class="footer-col">
          <h4>{{ block.settings.menu_title }}</h4>
          {% if block.settings.menu != blank %}
            <ul>
              {% for link in linklists[block.settings.menu].links %}
                <li><a href="{{ link.url }}">{{ link.title }}</a></li>
              {% endfor %}
            </ul>
          {% endif %}
        </div>
      {% endif %}
    {% endfor %}

    <!-- Column: Contact -->
    <div class="footer-col footer-contact">
      <h4>{{ section.settings.contact_title }}</h4>
      <div class="contact-information footer-contact-col">
        <p>
          <span class="contact-icon">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
              <circle cx="12" cy="10" r="3"/>
              <path d="M12 2a8 8 0 0 0-8 8c0 4.418 8 12 8 12s8-7.582 8-12a8 8 0 0 0-8-8z"/>
            </svg>
          </span>
          {{ section.settings.contact_address }}
        </p>

        <p>
          <span class="contact-icon">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
              <path d="M22 16.92V21a2 2 0 0 1-2.18 2A19.9 19.9 0 0 1 3 5.18 2 2 0 0 1 5 3h4.09a2 2 0 0 1 2 1.72 12.05 12.05 0 0 0 .65 2.57 2 2 0 0 1-.45 2.11l-1.27 1.27a16 16 0 0 0 6.29 6.29l1.27-1.27a2 2 0 0 1 2.11-.45 12.05 12.05 0 0 0 2.57.65A2 2 0 0 1 22 16.92z"/>
            </svg>
          </span>
          {{ section.settings.contact_phone }}
        </p>

        <p>
          <span class="contact-icon">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
              <rect width="20" height="16" x="2" y="4" rx="2"/>
              <path d="m22 6-10 7L2 6"/>
            </svg>
          </span>
          <a href="mailto:{{ section.settings.contact_email }}">{{ section.settings.contact_email }}</a>
        </p>
      </div>
    </div>
  </div>

  <!-- Footer bottom -->
  <div class="footer-bottom">
    <div class="copyright-footer-col">
      <p>© {{ 'now' | date: "%Y" }} {{ section.settings.footer_bottom_text }} <a href="https://bysukhdeep.com/">Developed by Sukhdeep Singh</a></p>
    </div>
    <!-- Dynamic payment icons -->
    <div class="payment-icons">
      <ul class="payment-icons__list" role="list">
        {% for block in section.blocks %}
          {% if block.type == 'payment_icon' and block.settings.payment_icon != blank %}
            <li class="payment-icons__item">
              <img src="{{ block.settings.payment_icon | img_url: '35x' }}" alt="Payment Icon">
            </li>
          {% endif %}
        {% endfor %}
      </ul>
    </div>
  </div>
</footer>


<style>
  .footer-socials{
  display: flex;
}  
.site-footer {
  padding: 40px 20px;
  font-size: 15px;
}
.footer-container {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 30px;
  max-width: 1500px;
  margin: 0 auto;
  padding: 20px 0;
}
.footer-col h4 {
  font-size: 16px;
  font-weight: 600;
  margin-bottom: 15px;
}
.footer-description {
  margin: 15px 0;
  font-size: 14px;
  line-height: 1.6;
}
.footer-socials a {
  margin-right: 12px;
  text-decoration: none;
  color: {{ section.settings.text_color }};
  font-weight: bold;
}
.footer-socials a:hover {
  color: {{ section.settings.link_hover_color }};
}

/* ✅ Added social icon image styles */
.footer-socials img {
  width: 28px;
  height: 28px;
  object-fit: contain;
  display: inline-block;
}
.footer-col h4{
  font-size: 24px;
  font-weight: 600;
  line-height: 32px;
}
.footer-col p{
  font-size: 16px;
  font-weight: 400;
  line-height: 20px;
  color: #fff;
}
.footer-col ul {
  list-style: none;
  padding: 0;
  margin: 0;
}
.footer-contact-col{
  display: flex;
  flex-direction: column;
  gap: 10px;
}
.footer-contact-col p a{
  color: #fff !important;
  font-weight: 600;
}
.footer-col ul li {
  margin-bottom: 8px;
}
.footer-col ul li a {
  text-decoration: none;
  font-size: 16px;
  font-weight: 400;
  line-height: 20px;
  color: {{ section.settings.text_color }};
}
.footer-col ul li a:hover {
  color: {{ section.settings.link_hover_color }};
}
.footer-bottom {
  border-top: 1px solid rgba(255,255,255,0.2);
  padding-top: 20px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  flex-wrap: wrap;
  max-width: 1400px;
  margin: 0 auto;
}
.footer-bottom p, .footer-bottom p a{
  color: #fff !important;
  font-size: 12px;
  font-weight: 600;
}
.footer-payments span {
  margin-left: 10px;
  font-size: 13px;
}
.footer-logo{
  width: 30%;
  height: auto;
  margin-bottom: 12px;
}

/* ✅ Added contact items with icons */
.footer-contact p {
  display: flex;
  align-items: flex-start;
  gap: 10px;
  margin: 8px 0;
}

.footer-contact .contact-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  border: 1px solid #fff;
  padding: 5px;
  border-radius: 50%;
}

.footer-contact .contact-icon svg {
  width: 16px;
  height: 16px;
  stroke: {{ section.settings.text_color }};
}

/* ✅ Added Shopify payment icons styles */
.payment-icons__list {
  display: flex;
  align-items: center;
  gap: 10px;
  margin: 0;
  padding: 0;
}
.payment-icons{
  width: unset !important;
}
.payment-icons__item {
  display: flex;
  align-items: center;
}
.payment-icons__item .icon {
  width: 38px;
  height: auto;
}

/* Mobile */
@media (max-width: 767px) {
  .footer-container {
    grid-template-columns: 1fr;
  }
  .footer-bottom {
    flex-direction: column;
    text-align: center;
    gap: 10px;
  }
  .site-footer{
    padding: 28px 20px;
  }
}

</style>